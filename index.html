	<!DOCTYPE HTML>

<html>
	<head>
		<title>Portfolio Artur Skrzeta</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<header>
					<span class="image avatar"><a href="https://arturskrzeta.github.io/"><img src="images/avatar.png" alt="" style="margin-bottom:0px;"/></a></span>
					<h1 id="logo"><a href="https://arturskrzeta.github.io/">Artur Skrzeta</a></h1>
					<p>Data Analyst<br />
					+5 years experience</p>
				</header>
				<nav id="nav">
					<ul>
						<li><a href="#one" class="active">Intro</a></li>
						<li><a href="#two">Features</a></li>
						<li><a href="#three">Demo</a></li>
						<li><a href="#four">Setup</a></li>
						<li><a href="#five">Source Code</a></li>
					</ul>
				</nav>
				<footer>
					<ul class="icons">
						<li><a href="https://www.linkedin.com/in/artur-skrz%C4%99ta-010b23187/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://www.instagram.com/arturskrrr/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="https://github.com/ArturSkrzeta" class="icon brands fa-github"><span class="label">Github</span></a></li>
						<li><a href="mailto: arturskrzeta@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li
					</ul>
				</footer>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h2>RESTful API and HTTP Automated Tests</h2>
										<h3>Intro</h3>

										<h5>App infrastructure:</h5>
										<ul>
											<li>There are 3 main components of RESTful application:
												<br>
												1. Frontend - web-app look.<br>
												2. Web Service -  between as frontend doesn't communicate with backend directly.<br>
												3. Backend - web-app database.
											</li>
											<li>Frontend communicates through RESTful API to web service about what infomation it needs to display in the web-app.</li>
											<li>Web service perfoms queries to database directy.</li>
										</ul>

										<h5>Http requests:</h5>
										<ul>
										  <li>A RESTful API uses Http requests to help a client (front-end, web, mobile app or client.py) to interact with server's database.</li>
										  <li>Http requests (GET, POST or DELETE) allow for retrieving, inserting or deleting data.</li>
										  <li>With RESTful API, I can define the way of interaction between client and server.</li>
										</ul>

										<h5>API architecture:</h5>
										<img src="images/api_schema.JPG" width="780">
										<ul>
											<li>The representation of a database to API is <b>Python Data Model</b>.</li>
											<li>Python Data Model is a class that with its attributes reflects fields of data schema (fields of data table in relational database analogously).</li>
											<li>In the project, I define two classes: <span style="color: #71d8a3; font-weight:bold;">TransactionModel</span> and <span style="color: #71d8a3; font-weight:bold;">PayerModel</span>.</li>
											<li>The representation of Python Data Model to client App is a defined within <b>API Resource</b>.</li>
											<li>For each specific Data Model we need to define separate API Resource:
												<br>
													- for <span style="color: #71d8a3; font-weight:bold;">TransactionModel</span> there is need to define <span style="color: #71c5d8; font-weight:bold;">Transaction API Resource</span>.<br>
													- for <span style="color: #71d8a3; font-weight:bold;">PayerModel</span> there is need to define <span style="color: #71c5d8; font-weight:bold;">Payer API Resource</span>.<br>
											</li>
											<li>Resource is an external representation of internal data Model.</li>
											<li>Client App can access Python object of given Model only thorugh API Resource.</li>
											<li>Client App can interact with Resource using HTTP requests.</li>
										</ul>

										<h5>Http status codes:</h5>
										<ul>
											<li>Web service responses to client app on its requests with following statueses:
												<br>
												- 404 - not found,<br>
												- 400 - bad request,<br>
												- 202 - accepted,<br>
												- 201 - created,<br>
												- 200 - OK.
											</li>
										</ul>

										<h5>Workflow:</h5>
										<image src="images/restful_api_schema.JPG" width="580">
										<ul>
											<li>Client app hits an endpoint sending GET request through RESTful API. Web service accepts it, connects database and formulates response and sends it back to a client with JSON.</li>
											<li>Client app hits an endpoint sending POST request through RESTful API along with information being wrapped with JSON. Web service accepts it,
												connects database, parses JSON into Python variables which feed a newly-created Python model object (what creates a new record in database) and returns JSON response with a Http status code to a client.</li>
											<li>With that solution, RESTful API deciedes what Model objects (what data) are accessible at what place (endpoint) and in what way i.e. getting, posting, putting, deleting.</li>
										</ul>

									</header>
								</div>
							</section>

						<!-- Two -->
							<section id="two">
								<div class="container">
									<h3>Features</h3>
									<p>App includes following features:</p>
									<ul class="feature-icons">
										<li class="icon solid fa-check">RESTful API</li>
										<li class="icon solid fa-check">Flask</li>
										<li class="icon solid fa-check">SQLite database</li>
										<li class="icon solid fa-check">Pytest</li>
									</ul>
								</div>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="container">
									<h3>Demo</h3>

									<h5>Client - API - Server model:</h5>
									<img src="images/rest.gif" width="780">
									<ol>
										<li>Client hits the api endpoint like server.com/<span style="color:#1cda7a;">transaction/</span><span style="color:red;">transaction_id</span>:
											<br>
											- <span style="color:#1cda7a;">transaction/</span> redirects to a specific for transaction web server spot,<br>
											- <span style="color:red;">transaction_id</span> serves as variable which is passed to api resource.
										</li>
										<li>With hitting endpoint client sends POST request passing JSON along with <span style="color:red;">transaction_id</span> variable.</li>
										<li>Flask server is listening all the time in the backgorund.</li>
										<li>When request comes in, Flask redirects it to API Resource accoring to the hit <span style="color:#1cda7a;">transaction/</span> endpoint.</li>
										<li>Request calls post method in API Resource which parses parameters from JSON into Python variables.</li>
										<li>Resource's POST method creates Model instance passing obtained variables as arguments to class constructor.</li>
										<li>Resource uses Model's methods to save instance into database.</li>
									</ol>

									<h5>Testing:</h5>
									<ul>
										<li>There are 2 kinds of testing we can perform on our application:
											<br>
											- <b>Unit test</b> - tests single unit of application f.e. we compare if a function returns expexted value or expected data type.<br>
											- <b>Integration test</b> - tests interaction between modules being combined as a one group.<br>
										</li>
										<li>Script <b>test_api.py</b>, utilizing pytest library, tests HTTP requests on <b>api.py</b> server:</li>
									</ul>
									<img src="images/test.JPG" width="780">
									<p>Tests passed successfully.</p>
								</div>
							</section>

						<!-- Four -->
							<section id="four">
								<div class="container">
									<h3>Setup</h3>
									<p>Python libraries installation required:</p>
									<code>pip install flask</code><br>
									<code>pip install requests</code><br>
									<code>pip install pytest</code><br>
								</div>
							</section>

							<section id="five">
								<div class="container">
									<h3>Source Code</h3>
									<p>You can view the source code: <a href="https://github.com/ArturSkrzeta/RESTful-API-with-FLASK-and-SQLAlchemy/tree/master/project">HERE</a></p>
									<p>&nbsp</p>
								</div>
							</section>

					</div>

				<!-- Footer -->
					<section id="footer">
						<div class="container">
							<a href="https://arturskrzeta.github.io/" style="padding-bottom:10px;">Back to Portfolio</a>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
